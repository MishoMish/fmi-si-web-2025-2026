# Релационни бази данни (RDBMS)

## Какво е база данни?

**База данни** е организирана колекция от данни, съхранени и достъпни по електронен път. **RDBMS** (Relational Database Management System) организира данните в **таблици** със **редове** и **колони**.

## Основни понятия

| Понятие | Описание |
|---------|----------|
| **Таблица (Table)** | Колекция от свързани данни, организирани в редове и колони |
| **Ред (Row / Record)** | Единичен запис в таблицата |
| **Колона (Column / Field)** | Атрибут на данните (име, имейл, възраст) |
| **Първичен ключ (Primary Key)** | Уникален идентификатор за всеки ред |
| **Външен ключ (Foreign Key)** | Връзка между две таблици |
| **Схема (Schema)** | Структурата на базата — таблици, колони, типове, връзки |

## Типове данни

| Тип | Описание | Пример |
|-----|----------|--------|
| `INT` | Цяло число | `42` |
| `VARCHAR(n)` | Текст с максимална дължина `n` | `'Ivan'` |
| `TEXT` | Дълъг текст | Статия, описание |
| `DATETIME` | Дата и час | `2025-03-15 14:30:00` |
| `BOOLEAN` | Логическа стойност | `TRUE` / `FALSE` |
| `DECIMAL(p,s)` | Десетично число | `19.99` |

## Релации между таблици

### Един към много (1:N)

Най-честата релация. Пример: Един потребител може да има много поръчки.

```
users               orders
┌────┬──────┐       ┌────┬─────────┬────────┐
│ id │ name │       │ id │ user_id │ amount │
├────┼──────┤       ├────┼─────────┼────────┤
│ 1  │ Ivan │──┐    │ 1  │    1    │  50.00 │
│ 2  │ Maria│  ├───→│ 2  │    1    │  30.00 │
└────┴──────┘  │    │ 3  │    2    │  75.00 │
               └───→└────┴─────────┴────────┘
```

### Много към много (M:N)

Реализира се чрез **свързваща таблица** (junction table).

```
students         student_courses      courses
┌────┬──────┐    ┌────────────┬───────────┐    ┌────┬─────────┐
│ id │ name │    │ student_id │ course_id │    │ id │  title  │
├────┼──────┤    ├────────────┼───────────┤    ├────┼─────────┤
│ 1  │ Ivan │    │     1      │     1     │    │ 1  │   Web   │
│ 2  │ Maria│    │     1      │     2     │    │ 2  │   OOP   │
└────┴──────┘    │     2      │     1     │    └────┴─────────┘
                 └────────────┴───────────┘
```

## Нормализация

Процес на организиране на данните за минимизиране на дублиране:

1. **1NF** — Всяка клетка съдържа единична стойност
2. **2NF** — Всяка не-ключова колона зависи от целия първичен ключ
3. **3NF** — Няма транзитивни зависимости

> За курса е достатъчно да разбирате 1NF и 2NF и да избягвате повторение на данни.
